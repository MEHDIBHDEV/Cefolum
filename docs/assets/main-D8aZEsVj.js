import{r as R,j as t,a as be,u as Ms,b as Is,c as Oe,T as Os,L as ue,P as Us,n as $s,B as Te,d as qs,e as Bs,f as zs,g as ts,R as W,H as Ws,h as Hs,i as le,k as Xs,F as Ks,l as Gs,m as Ys,C as Js}from"./globals-B8pW6J6g.js";function Qs({slides:e=[],interval:r=6e3,renderOverlay:s,className:i=""}){const[c,n]=R.useState(0),[d,x]=R.useState(!1),S=R.useRef(null),E=R.useRef(null),v=R.useRef(!1),y=R.useMemo(()=>Math.max(r,3e3),[r]),f=R.useMemo(()=>e.map((b,w)=>({...b,id:b.id??`slide-${w}`,image:et(b.image)})),[e]);R.useEffect(()=>{if(clearInterval(S.current),!(f.length<=1))return S.current=setInterval(()=>{d||n(b=>(b+1)%f.length)},y),()=>{clearInterval(S.current)}},[y,d,f.length]);const D=b=>{if(f.length===0)return;const w=(b+f.length)%f.length;n(w)},P=()=>D(c+1),_=()=>D(c-1),z=b=>{v.current=!0,E.current=b},se=b=>{if(!v.current||E.current===null)return;const w=b-E.current;Math.abs(w)>60&&(v.current=!1,E.current=null,w>0?_():P())},j=()=>{v.current=!1,E.current=null};return t.jsxs("section",{className:`relative w-full overflow-hidden rounded-3xl border border-white/5 bg-neutral-950 ${i}`,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[t.jsxs("div",{className:"relative h-full w-full touch-pan-y",onPointerDown:b=>z(b.clientX),onPointerMove:b=>se(b.clientX),onPointerUp:j,onPointerCancel:j,onTouchStart:b=>{var w;(w=b.touches)!=null&&w.length&&z(b.touches[0].clientX)},onTouchMove:b=>{var w;(w=b.touches)!=null&&w.length&&se(b.touches[0].clientX)},onTouchEnd:j,children:[t.jsx("div",{className:"flex h-full w-full transition-transform duration-700 ease-out",style:{transform:`translateX(-${c*100}%)`},children:f.map((b,w)=>t.jsxs("div",{className:"relative h-full w-full flex-shrink-0",children:[t.jsx("img",{src:b.image,alt:b.alt??b.title??`Slide ${w+1}`,loading:"lazy",className:"h-full w-full object-cover brightness-95"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neutral-950 via-neutral-950/60 to-transparent"})]},b.id))}),typeof s=="function"&&t.jsx("div",{className:"pointer-events-none absolute inset-0 z-10 flex items-center",children:t.jsx("div",{className:"pointer-events-auto w-full",children:s(f[c],c)})}),f.length>1&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{type:"button","aria-label":"Precedent",className:"absolute left-6 top-1/2 z-20 hidden -translate-y-1/2 rounded-full border border-white/10 bg-neutral-900/70 p-3 text-white transition hover:border-violet-500/80 hover:bg-neutral-900/90 md:inline-flex",onClick:_,children:[t.jsx("span",{className:"sr-only",children:"Precedent"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15.25 19.25 8.75 12l6.5-7.25"})})]}),t.jsxs("button",{type:"button","aria-label":"Suivant",className:"absolute right-6 top-1/2 z-20 hidden -translate-y-1/2 rounded-full border border-white/10 bg-neutral-900/70 p-3 text-white transition hover:border-violet-500/80 hover:bg-neutral-900/90 md:inline-flex",onClick:P,children:[t.jsx("span",{className:"sr-only",children:"Suivant"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"m8.75 19.25 6.5-7.25-6.5-7.25"})})]})]})]}),f.length>1&&t.jsx("div",{className:"absolute bottom-6 left-1/2 z-30 flex -translate-x-1/2 gap-2",children:f.map((b,w)=>t.jsx("button",{type:"button",className:`h-2.5 rounded-full transition ${w===c?"w-8 bg-violet-500":"w-2.5 bg-white/30 hover:bg-white/60"}`,"aria-label":`Aller a la diapositive ${w+1}`,"aria-current":w===c,onClick:()=>D(w)},b.id))})]})}const Zs=R.memo(Qs);function et(e){return e?/^(https?:)?\/\//i.test(e)||e.startsWith(be(""))?e:be(e):""}const ps=["images/products/accueil/landing1.png","images/products/accueil/landing2.png","images/products/accueil/landing3.png"],st=ps.map((e,r)=>({id:`hero-${r}`,image:be(e),rawPath:e,alt:["Tableau lumineux aux reflets dorés dans un salon minimaliste","Oeuvre contemporaine violette installée dans un loft moderne","Grand tableau abstrait bleu nuit et or dans un espace design"][r]??`Visuel ${r+1}`})),tt=[{title:"Livraison signature",description:"Emballages renforcés, assurance premium et suivi personnalisé pour chaque pièce."},{title:"Atelier certifié",description:"Chaque création est livrée avec un certificat d’authenticité numéroté et archivé."},{title:"Accompagnement expert",description:"Conseil palette, formats, encadrements et implantation par notre curateur résident."}];function rt(){Ms();const{addItem:e}=Is(),r=Oe(),[s,i]=R.useState([]),[c,n]=R.useState(!0),[d,x]=R.useState(null),[S,E]=R.useState({open:!1,message:""});R.useEffect(()=>{let f=!0;async function D(){try{const P=await fetch(be("data/products.json"));if(!P.ok)throw new Error("Impossible de charger la collection.");const _=await P.json();if(f){const z=Array.isArray(_)?_.map((se,j)=>$s(se,j)).filter(Boolean):[];i(z)}}catch(P){console.error(P),f&&x("Une erreur est survenue lors du chargement des œuvres.")}finally{f&&n(!1)}}return D(),()=>{f=!1}},[]);const v=R.useMemo(()=>{if(!s.length)return[];const f=new Set(ps);return s.filter(D=>{const P=(D.imagePath??"").replace(/^\/+/,"");return!f.has(P)}).slice(0,8)},[s]),y=f=>{e==null||e(f),E({open:!0,message:`${f.title} ajouté au panier`})};return t.jsxs(t.Fragment,{children:[t.jsx(Os,{open:S.open,message:S.message||"Ajouté au panier",onDismiss:()=>E({open:!1,message:""})}),t.jsxs("main",{className:"space-y-20 bg-[#0b0b0f] pb-24 text-neutral-100",children:[t.jsx("div",{className:"container-app pt-10",children:t.jsx(Zs,{slides:st,className:"aspect-[4/3] md:aspect-[16/9]",renderOverlay:()=>t.jsxs("div",{className:"mx-auto flex h-full max-w-4xl flex-col justify-center gap-6 px-6 py-10 md:px-12",children:[t.jsx("span",{className:"inline-flex w-fit items-center rounded-full border border-white/15 bg-white/5 px-4 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-white/80",children:"Collection signature"}),t.jsx("h1",{className:"text-3xl font-semibold leading-tight text-white sm:text-4xl md:text-5xl",children:"Une galerie contemporaine pour sublimer vos espaces de vie"}),t.jsx("p",{className:"max-w-2xl text-sm text-neutral-300 md:text-base",children:"Découvrez des toiles exclusives aux finitions luxueuses. Reflets métalliques, pigments profonds et formats généreux conçus pour magnifier votre intérieur."}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("button",{type:"button",className:"rounded-2xl bg-violet-600 px-5 py-2.5 text-sm font-semibold text-white shadow-xl shadow-violet-900/40 transition hover:bg-violet-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-400",onClick:()=>{const f=document.getElementById("collection");f==null||f.scrollIntoView({behavior:"smooth",block:"start"})},children:"Découvrir la collection"}),t.jsx(ue,{to:"/produits",className:"rounded-2xl border border-white/15 px-5 py-2.5 text-sm font-semibold text-white/90 transition hover:border-violet-400/60 hover:text-white",children:"Voir toutes les œuvres"})]})]})})}),t.jsxs("section",{className:"container-app grid gap-8 rounded-3xl border border-white/5 bg-neutral-950/60 px-6 py-12 shadow-inner shadow-black/30 backdrop-blur md:grid-cols-[minmax(0,_1fr)_minmax(0,_1fr)] md:px-12",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-2xl font-semibold text-white md:text-3xl",children:"Un accompagnement sur-mesure pour chaque intérieur"}),t.jsx("p",{className:"text-sm text-neutral-300 md:text-base",children:"Nos conseillers vous guident dans le choix de la palette, du format et de l’encadrement afin de créer une pièce forte parfaitement adaptée à votre ambiance. Livraison premium avec assurance dédiée."}),t.jsxs("ul",{className:"grid gap-3 text-sm text-neutral-300",children:[t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"flex h-9 w-9 items-center justify-center rounded-full border border-violet-500/40 bg-violet-500/10 text-violet-200",children:"01"}),"Sélectionnez une œuvre parmi notre sélection contemporaine."]}),t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"flex h-9 w-9 items-center justify-center rounded-full border border-violet-500/40 bg-violet-500/10 text-violet-200",children:"02"}),"Recevez des recommandations personnalisées pour scénographier votre espace."]}),t.jsxs("li",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"flex h-9 w-9 items-center justify-center rounded-full border border-violet-500/40 bg-violet-500/10 text-violet-200",children:"03"}),"Profitez d’une livraison signature et de l’installation par nos artisans partenaires."]})]})]}),t.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:tt.map(f=>t.jsxs("article",{className:"flex flex-col gap-3 rounded-2xl border border-white/5 bg-neutral-900/60 p-6 shadow-lg shadow-black/20 transition hover:border-violet-500/50 hover:shadow-violet-900/30",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:f.title}),t.jsx("p",{className:"text-sm text-neutral-300",children:f.description})]},f.title))})]}),t.jsxs("section",{id:"collection",className:"container-app space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"inline-flex items-center rounded-full border border-violet-500/30 bg-violet-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-violet-200",children:"Collection"}),t.jsx("h2",{className:"mt-4 text-2xl font-semibold text-white md:text-3xl",children:"Les pièces phares de la semaine"}),t.jsx("p",{className:"text-sm text-neutral-300 md:text-base",children:"Textures métalliques, pigments profonds et finitions grand format pour signer un intérieur de caractère."})]}),t.jsx(ue,{to:"/produits",className:"rounded-2xl border border-white/20 px-4 py-2 text-sm font-medium text-white/80 transition hover:border-violet-400/60 hover:text-white",children:"Explorer tout le catalogue"})]}),c&&t.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((f,D)=>t.jsxs("div",{className:"animate-pulse rounded-2xl border border-white/5 bg-neutral-900/50 p-4",children:[t.jsx("div",{className:"aspect-[4/5] rounded-2xl bg-neutral-800/70"}),t.jsx("div",{className:"mt-4 h-4 w-3/4 rounded-full bg-neutral-800/70"}),t.jsx("div",{className:"mt-2 h-4 w-1/2 rounded-full bg-neutral-800/70"}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx("div",{className:"h-9 w-full rounded-2xl bg-neutral-800/70"}),t.jsx("div",{className:"h-9 w-full rounded-2xl bg-neutral-800/70"})]})]},`home-skeleton-${D}`))}),!c&&d&&t.jsx("div",{className:"rounded-2xl border border-red-500/40 bg-red-500/10 px-6 py-5 text-sm text-red-200",children:d}),!c&&!d&&v.length>0&&t.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:v.map(f=>t.jsx(Us,{product:f,onAddToCart:y,onViewDetails:D=>r(D.href||`/produits/${D.slug||D.id}`)},f.id))}),!c&&!d&&v.length===0&&t.jsx("div",{className:"rounded-2xl border border-white/5 bg-neutral-950/60 px-6 py-12 text-center text-sm text-neutral-300",children:"Aucune œuvre mise en avant pour le moment. Revenez bientôt !"})]})]})]})}function we({items:e}){return e!=null&&e.length?t.jsx("nav",{className:"container-app py-4 text-xs text-muted-foreground","aria-label":"Fil d'Ariane",children:t.jsx("ol",{className:"flex flex-wrap items-center gap-2",children:e.map((r,s)=>{const i=s===e.length-1;return t.jsxs("li",{className:"flex items-center gap-2",children:[r.href&&!i?t.jsx(ue,{to:r.href,className:"transition-colors hover:text-primary",children:r.label}):t.jsx("span",{"aria-current":i?"page":void 0,className:i?"text-foreground":"",children:r.label}),!i&&t.jsx("span",{className:"text-muted-foreground",children:"/"})]},r.label)})})}):null}function at({className:e="",children:r}){return t.jsx("span",{className:`tag ${e}`.trim(),children:r})}function it({className:e="",children:r}){return t.jsx("span",{className:`badge ${e}`.trim(),children:r})}function lt({image:e,title:r,price:s,salePrice:i,rating:c=0,onAdd:n,onView:d,tags:x=[]}){const S=Array.from({length:5},(y,f)=>f<Math.round(c)),E=()=>{typeof n=="function"&&n()},v=()=>{typeof d=="function"&&d()};return t.jsxs("div",{className:"card group",children:[t.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:t.jsx("img",{src:e,alt:r,loading:"lazy",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"})}),t.jsxs("div",{className:"card-body space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsx("h3",{className:"text-sm font-semibold truncate",title:r,children:r}),t.jsx("div",{className:"flex gap-0.5","aria-label":`${c} étoiles`,children:S.map((y,f)=>t.jsx("span",{className:y?"text-accent":"text-muted-foreground",children:"★"},f))})]}),t.jsx("div",{className:"flex items-center gap-2",children:i?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-semibold text-accent",children:Ce(i)}),t.jsx("span",{className:"text-xs text-muted-foreground line-through",children:Ce(s)})]}):t.jsx("span",{className:"font-semibold",children:Ce(s)})}),x.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:x.map(y=>t.jsx(it,{children:y},y))})]}),t.jsxs("div",{className:"card-footer flex gap-2",children:[t.jsx(Te,{variant:"secondary",className:"flex-1",onClick:v,children:"Voir"}),t.jsx(Te,{className:"flex-1",onClick:E,children:"Ajouter"})]})]})}function Ce(e){try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e)}catch(r){return console.error("Currency formatting error",r),`${e} €`}}function nt({products:e=[],onAddToCart:r}){const s=Oe();return t.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(i=>t.jsx(lt,{image:i.images[0],title:i.title,price:i.price,salePrice:i.salePrice,rating:i.rating,tags:i.tags,onView:()=>s(`/produits/${i.slug}`),onAdd:()=>r==null?void 0:r(i)},i.id))})}const De={},rs=De!=null&&De.VITE_API_BASE_URL?String(void 0).replace(/\/$/,""):"",ot=rs?`${rs}/products`:"/data/products.json";let Pe;async function ct(e){const r=await fetch(e);if(!r.ok)throw new Error(`Impossible de charger ${e}`);return r.json()}async function ys(){return Pe||(Pe=ct(ot)),(await Pe).map(ut)}async function dt(e){return(await ys()).find(s=>s.slug===e)||null}function ut(e){var n;const r=Number(e.price),s=e.salePrice?Number(e.salePrice):null,i=s&&s>0?s:r,c=(n=e.images)!=null&&n.length?e.images:[e.image];return{...e,slug:e.slug??as(e.title),price:r,salePrice:s,effectivePrice:i,images:c,tags:e.tags??[],categorySlug:e.categorySlug??as(e.category??"")}}function as(e){return e.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"")}function ft(){const{slug:e}=qs(),r=Oe(),{addItem:s}=Bs(),[i,c]=R.useState(null),[n,d]=R.useState(""),[x,S]=R.useState([]),[E,v]=R.useState(!0);return R.useEffect(()=>{async function y(){v(!0);try{const f=await dt(e);if(!f){r("/produits");return}c(f),d(f.images[0]);const P=(await ys()).filter(_=>_.id!==f.id&&_.categorySlug===f.categorySlug).slice(0,4);S(P)}catch(f){console.error("Impossible de charger le produit",f)}finally{v(!1)}}y()},[e,r]),E?t.jsx("p",{className:"py-20 text-center text-sm text-muted-foreground",children:"Chargement du produit..."}):i?t.jsxs("main",{className:"space-y-12 pb-20",children:[t.jsx(we,{items:[{label:"Accueil",href:"/"},{label:"Produits",href:"/produits"},{label:i.title}]}),t.jsxs("section",{className:"container-app grid gap-10 lg:grid-cols-[1.1fr_0.9fr]",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"overflow-hidden rounded-xl",children:t.jsx("img",{src:n,alt:i.title,className:"h-full w-full object-cover",loading:"lazy"})}),t.jsx("div",{className:"flex gap-3 overflow-auto",children:i.images.map(y=>t.jsx("button",{type:"button",onClick:()=>d(y),className:`h-20 w-20 flex-shrink-0 overflow-hidden rounded-lg border transition ${n===y?"border-primary":"border-transparent hover:border-muted"}`,children:t.jsx("img",{src:y,alt:"Miniature produit",className:"h-full w-full object-cover",loading:"lazy"})},y))})]}),t.jsxs("article",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx(at,{children:i.category}),t.jsx("h1",{className:"text-3xl font-semibold",children:i.title}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("span",{className:"font-semibold text-primary",children:[zs(i.rating)," ★"]}),t.jsx("span",{className:"text-muted-foreground",children:"Edition limitée"})]})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),t.jsxs("div",{className:"flex items-baseline gap-3 text-2xl font-semibold",children:[t.jsx("span",{children:ts(i.effectivePrice)}),i.salePrice&&t.jsx("span",{className:"text-base font-normal text-muted-foreground line-through",children:ts(i.price)})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map(y=>t.jsx("span",{className:"badge",children:y},y))}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx(Te,{onClick:()=>s(i),children:"Ajouter au panier"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Cadre en bois massif inclus. Livraison offerte pour toute commande supérieure à 250 €."})]})]})]}),x.length>0&&t.jsxs("section",{className:"container-app space-y-4",children:[t.jsx("h2",{className:"text-2xl font-semibold",children:"Œuvres similaires"}),t.jsx(nt,{products:x,onAddToCart:s})]})]}):null}var ge=e=>e.type==="checkbox",ne=e=>e instanceof Date,$=e=>e==null;const vs=e=>typeof e=="object";var M=e=>!$(e)&&!Array.isArray(e)&&vs(e)&&!ne(e),mt=e=>M(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,xt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ht=(e,r)=>e.has(xt(r)),gt=e=>{const r=e.constructor&&e.constructor.prototype;return M(r)&&r.hasOwnProperty("isPrototypeOf")},Ue=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function O(e){let r;const s=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Ue&&(e instanceof Blob||i))&&(s||M(e)))if(r=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!gt(e))r=e;else for(const c in e)e.hasOwnProperty(c)&&(r[c]=O(e[c]));else return e;return r}var Fe=e=>/^\w*$/.test(e),T=e=>e===void 0,$e=e=>Array.isArray(e)?e.filter(Boolean):[],qe=e=>$e(e.replace(/["|']|\]/g,"").split(/\.|\[/)),g=(e,r,s)=>{if(!r||!M(e))return s;const i=(Fe(r)?[r]:qe(r)).reduce((c,n)=>$(c)?c:c[n],e);return T(i)||i===e?T(e[r])?s:e[r]:i},Z=e=>typeof e=="boolean",k=(e,r,s)=>{let i=-1;const c=Fe(r)?[r]:qe(r),n=c.length,d=n-1;for(;++i<n;){const x=c[i];let S=s;if(i!==d){const E=e[x];S=M(E)||Array.isArray(E)?E:isNaN(+c[i+1])?{}:[]}if(x==="__proto__"||x==="constructor"||x==="prototype")return;e[x]=S,e=e[x]}};const is={BLUR:"blur",FOCUS_OUT:"focusout"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pt=W.createContext(null);pt.displayName="HookFormContext";var yt=(e,r,s,i=!0)=>{const c={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(c,n,{get:()=>{const d=n;return r._proxyFormState[d]!==G.all&&(r._proxyFormState[d]=!i||G.all),e[d]}});return c};const vt=typeof window<"u"?W.useLayoutEffect:W.useEffect;var H=e=>typeof e=="string",bt=(e,r,s,i,c)=>H(e)?(i&&r.watch.add(e),g(s,e,c)):Array.isArray(e)?e.map(n=>(i&&r.watch.add(n),g(s,n))):(i&&(r.watchAll=!0),s),Me=e=>$(e)||!vs(e);function ae(e,r,s=new WeakSet){if(Me(e)||Me(r))return e===r;if(ne(e)&&ne(r))return e.getTime()===r.getTime();const i=Object.keys(e),c=Object.keys(r);if(i.length!==c.length)return!1;if(s.has(e)||s.has(r))return!0;s.add(e),s.add(r);for(const n of i){const d=e[n];if(!c.includes(n))return!1;if(n!=="ref"){const x=r[n];if(ne(d)&&ne(x)||M(d)&&M(x)||Array.isArray(d)&&Array.isArray(x)?!ae(d,x,s):d!==x)return!1}}return!0}var jt=(e,r,s,i,c)=>r?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[i]:c||!0}}:{},xe=e=>Array.isArray(e)?e:[e],ls=()=>{let e=[];return{get observers(){return e},next:c=>{for(const n of e)n.next&&n.next(c)},subscribe:c=>(e.push(c),{unsubscribe:()=>{e=e.filter(n=>n!==c)}}),unsubscribe:()=>{e=[]}}};function bs(e,r){const s={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i],n=r[i];if(c&&M(c)&&n){const d=bs(c,n);M(d)&&(s[i]=d)}else e[i]&&(s[i]=n)}return s}var B=e=>M(e)&&!Object.keys(e).length,Be=e=>e.type==="file",Y=e=>typeof e=="function",je=e=>{if(!Ue)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},js=e=>e.type==="select-multiple",ze=e=>e.type==="radio",Nt=e=>ze(e)||ge(e),Le=e=>je(e)&&e.isConnected;function wt(e,r){const s=r.slice(0,-1).length;let i=0;for(;i<s;)e=T(e)?i++:e[r[i++]];return e}function Ft(e){for(const r in e)if(e.hasOwnProperty(r)&&!T(e[r]))return!1;return!0}function L(e,r){const s=Array.isArray(r)?r:Fe(r)?[r]:qe(r),i=s.length===1?e:wt(e,s),c=s.length-1,n=s[c];return i&&delete i[n],c!==0&&(M(i)&&B(i)||Array.isArray(i)&&Ft(i))&&L(e,s.slice(0,-1)),e}var _t=e=>{for(const r in e)if(Y(e[r]))return!0;return!1};function Ns(e){return Array.isArray(e)||M(e)&&!_t(e)}function Ie(e,r={}){for(const s in e)Ns(e[s])?(r[s]=Array.isArray(e[s])?[]:{},Ie(e[s],r[s])):$(e[s])||(r[s]=!0);return r}function de(e,r,s){s||(s=Ie(r));for(const i in e)Ns(e[i])?T(r)||Me(s[i])?s[i]=Ie(e[i],Array.isArray(e[i])?[]:{}):de(e[i],$(r)?{}:r[i],s[i]):s[i]=!ae(e[i],r[i]);return s}const ns={value:!1,isValid:!1},os={value:!0,isValid:!0};var ws=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!T(e[0].attributes.value)?T(e[0].value)||e[0].value===""?os:{value:e[0].value,isValid:!0}:os:ns}return ns},Fs=(e,{valueAsNumber:r,valueAsDate:s,setValueAs:i})=>T(e)?e:r?e===""?NaN:e&&+e:s&&H(e)?new Date(e):i?i(e):e;const cs={isValid:!1,value:null};var _s=e=>Array.isArray(e)?e.reduce((r,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:r,cs):cs;function ds(e){const r=e.ref;return Be(r)?r.files:ze(r)?_s(e.refs).value:js(r)?[...r.selectedOptions].map(({value:s})=>s):ge(r)?ws(e.refs).value:Fs(T(r.value)?e.ref.value:r.value,e)}var Vt=(e,r,s,i)=>{const c={};for(const n of e){const d=g(r,n);d&&k(c,n,d._f)}return{criteriaMode:s,names:[...e],fields:c,shouldUseNativeValidation:i}},Ne=e=>e instanceof RegExp,me=e=>T(e)?e:Ne(e)?e.source:M(e)?Ne(e.value)?e.value.source:e.value:e,us=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched});const fs="AsyncFunction";var At=e=>!!e&&!!e.validate&&!!(Y(e.validate)&&e.validate.constructor.name===fs||M(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===fs)),St=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ms=(e,r,s)=>!s&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const he=(e,r,s,i)=>{for(const c of s||Object.keys(e)){const n=g(e,c);if(n){const{_f:d,...x}=n;if(d){if(d.refs&&d.refs[0]&&r(d.refs[0],c)&&!i)return!0;if(d.ref&&r(d.ref,d.name)&&!i)return!0;if(he(x,r))break}else if(M(x)&&he(x,r))break}}};function xs(e,r,s){const i=g(e,s);if(i||Fe(s))return{error:i,name:s};const c=s.split(".");for(;c.length;){const n=c.join("."),d=g(r,n),x=g(e,n);if(d&&!Array.isArray(d)&&s!==n)return{name:s};if(x&&x.type)return{name:n,error:x};if(x&&x.root&&x.root.type)return{name:`${n}.root`,error:x.root};c.pop()}return{name:s}}var kt=(e,r,s,i)=>{s(e);const{name:c,...n}=e;return B(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(d=>r[d]===(!i||G.all))},Et=(e,r,s)=>!e||!r||e===r||xe(e).some(i=>i&&(s?i===r:i.startsWith(r)||r.startsWith(i))),Ct=(e,r,s,i,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(r||e):(s?i.isOnBlur:c.isOnBlur)?!e:(s?i.isOnChange:c.isOnChange)?e:!0,Dt=(e,r)=>!$e(g(e,r)).length&&L(e,r),Pt=(e,r,s)=>{const i=xe(g(e,s));return k(i,"root",r[s]),k(e,s,i),e};function hs(e,r,s="validate"){if(H(e)||Array.isArray(e)&&e.every(H)||Z(e)&&!e)return{type:s,message:H(e)?e:"",ref:r}}var ce=e=>M(e)&&!Ne(e)?e:{value:e,message:""},gs=async(e,r,s,i,c,n)=>{const{ref:d,refs:x,required:S,maxLength:E,minLength:v,min:y,max:f,pattern:D,validate:P,name:_,valueAsNumber:z,mount:se}=e._f,j=g(s,_);if(!se||r.has(_))return{};const b=x?x[0]:d,w=N=>{c&&b.reportValidity&&(b.setCustomValidity(Z(N)?"":N||""),b.reportValidity())},I={},pe=ze(d),te=ge(d),_e=pe||te,K=(z||Be(d))&&T(d.value)&&T(j)||je(d)&&d.value===""||j===""||Array.isArray(j)&&!j.length,ie=jt.bind(null,_,i,I),J=(N,V,C,U=ee.maxLength,q=ee.minLength)=>{const Q=N?V:C;I[_]={type:N?U:q,message:Q,ref:d,...ie(N?U:q,Q)}};if(n?!Array.isArray(j)||!j.length:S&&(!_e&&(K||$(j))||Z(j)&&!j||te&&!ws(x).isValid||pe&&!_s(x).isValid)){const{value:N,message:V}=H(S)?{value:!!S,message:S}:ce(S);if(N&&(I[_]={type:ee.required,message:V,ref:b,...ie(ee.required,V)},!i))return w(V),I}if(!K&&(!$(y)||!$(f))){let N,V;const C=ce(f),U=ce(y);if(!$(j)&&!isNaN(j)){const q=d.valueAsNumber||j&&+j;$(C.value)||(N=q>C.value),$(U.value)||(V=q<U.value)}else{const q=d.valueAsDate||new Date(j),Q=ye=>new Date(new Date().toDateString()+" "+ye),fe=d.type=="time",oe=d.type=="week";H(C.value)&&j&&(N=fe?Q(j)>Q(C.value):oe?j>C.value:q>new Date(C.value)),H(U.value)&&j&&(V=fe?Q(j)<Q(U.value):oe?j<U.value:q<new Date(U.value))}if((N||V)&&(J(!!N,C.message,U.message,ee.max,ee.min),!i))return w(I[_].message),I}if((E||v)&&!K&&(H(j)||n&&Array.isArray(j))){const N=ce(E),V=ce(v),C=!$(N.value)&&j.length>+N.value,U=!$(V.value)&&j.length<+V.value;if((C||U)&&(J(C,N.message,V.message),!i))return w(I[_].message),I}if(D&&!K&&H(j)){const{value:N,message:V}=ce(D);if(Ne(N)&&!j.match(N)&&(I[_]={type:ee.pattern,message:V,ref:d,...ie(ee.pattern,V)},!i))return w(V),I}if(P){if(Y(P)){const N=await P(j,s),V=hs(N,b);if(V&&(I[_]={...V,...ie(ee.validate,V.message)},!i))return w(V.message),I}else if(M(P)){let N={};for(const V in P){if(!B(N)&&!i)break;const C=hs(await P[V](j,s),b,V);C&&(N={...C,...ie(V,C.message)},w(C.message),i&&(I[_]=N))}if(!B(N)&&(I[_]={ref:b,...N},!i))return I}}return w(!0),I};const Lt={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function Rt(e={}){let r={...Lt,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Y(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},c=M(r.defaultValues)||M(r.values)?O(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:O(c),d={action:!1,mount:!1,watch:!1},x={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},S,E=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...v};const f={array:ls(),state:ls()},D=r.criteriaMode===G.all,P=a=>l=>{clearTimeout(E),E=setTimeout(a,l)},_=async a=>{if(!r.disabled&&(v.isValid||y.isValid||a)){const l=r.resolver?B((await te()).errors):await K(i,!0);l!==s.isValid&&f.state.next({isValid:l})}},z=(a,l)=>{!r.disabled&&(v.isValidating||v.validatingFields||y.isValidating||y.validatingFields)&&((a||Array.from(x.mount)).forEach(o=>{o&&(l?k(s.validatingFields,o,l):L(s.validatingFields,o))}),f.state.next({validatingFields:s.validatingFields,isValidating:!B(s.validatingFields)}))},se=(a,l=[],o,h,m=!0,u=!0)=>{if(h&&o&&!r.disabled){if(d.action=!0,u&&Array.isArray(g(i,a))){const p=o(g(i,a),h.argA,h.argB);m&&k(i,a,p)}if(u&&Array.isArray(g(s.errors,a))){const p=o(g(s.errors,a),h.argA,h.argB);m&&k(s.errors,a,p),Dt(s.errors,a)}if((v.touchedFields||y.touchedFields)&&u&&Array.isArray(g(s.touchedFields,a))){const p=o(g(s.touchedFields,a),h.argA,h.argB);m&&k(s.touchedFields,a,p)}(v.dirtyFields||y.dirtyFields)&&(s.dirtyFields=de(c,n)),f.state.next({name:a,isDirty:J(a,l),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else k(n,a,l)},j=(a,l)=>{k(s.errors,a,l),f.state.next({errors:s.errors})},b=a=>{s.errors=a,f.state.next({errors:s.errors,isValid:!1})},w=(a,l,o,h)=>{const m=g(i,a);if(m){const u=g(n,a,T(o)?g(c,a):o);T(u)||h&&h.defaultChecked||l?k(n,a,l?u:ds(m._f)):C(a,u),d.mount&&_()}},I=(a,l,o,h,m)=>{let u=!1,p=!1;const F={name:a};if(!r.disabled){if(!o||h){(v.isDirty||y.isDirty)&&(p=s.isDirty,s.isDirty=F.isDirty=J(),u=p!==F.isDirty);const A=ae(g(c,a),l);p=!!g(s.dirtyFields,a),A?L(s.dirtyFields,a):k(s.dirtyFields,a,!0),F.dirtyFields=s.dirtyFields,u=u||(v.dirtyFields||y.dirtyFields)&&p!==!A}if(o){const A=g(s.touchedFields,a);A||(k(s.touchedFields,a,o),F.touchedFields=s.touchedFields,u=u||(v.touchedFields||y.touchedFields)&&A!==o)}u&&m&&f.state.next(F)}return u?F:{}},pe=(a,l,o,h)=>{const m=g(s.errors,a),u=(v.isValid||y.isValid)&&Z(l)&&s.isValid!==l;if(r.delayError&&o?(S=P(()=>j(a,o)),S(r.delayError)):(clearTimeout(E),S=null,o?k(s.errors,a,o):L(s.errors,a)),(o?!ae(m,o):m)||!B(h)||u){const p={...h,...u&&Z(l)?{isValid:l}:{},errors:s.errors,name:a};s={...s,...p},f.state.next(p)}},te=async a=>{z(a,!0);const l=await r.resolver(n,r.context,Vt(a||x.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return z(a),l},_e=async a=>{const{errors:l}=await te(a);if(a)for(const o of a){const h=g(l,o);h?k(s.errors,o,h):L(s.errors,o)}else s.errors=l;return l},K=async(a,l,o={valid:!0})=>{for(const h in a){const m=a[h];if(m){const{_f:u,...p}=m;if(u){const F=x.array.has(u.name),A=m._f&&At(m._f);A&&v.validatingFields&&z([u.name],!0);const X=await gs(m,x.disabled,n,D,r.shouldUseNativeValidation&&!l,F);if(A&&v.validatingFields&&z([u.name]),X[u.name]&&(o.valid=!1,l))break;!l&&(g(X,u.name)?F?Pt(s.errors,X,u.name):k(s.errors,u.name,X[u.name]):L(s.errors,u.name))}!B(p)&&await K(p,l,o)}}return o.valid},ie=()=>{for(const a of x.unMount){const l=g(i,a);l&&(l._f.refs?l._f.refs.every(o=>!Le(o)):!Le(l._f.ref))&&Ve(a)}x.unMount=new Set},J=(a,l)=>!r.disabled&&(a&&l&&k(n,a,l),!ae(ye(),c)),N=(a,l,o)=>bt(a,x,{...d.mount?n:T(l)?c:H(a)?{[a]:l}:l},o,l),V=a=>$e(g(d.mount?n:c,a,r.shouldUnregister?g(c,a,[]):[])),C=(a,l,o={})=>{const h=g(i,a);let m=l;if(h){const u=h._f;u&&(!u.disabled&&k(n,a,Fs(l,u)),m=je(u.ref)&&$(l)?"":l,js(u.ref)?[...u.ref.options].forEach(p=>p.selected=m.includes(p.value)):u.refs?ge(u.ref)?u.refs.forEach(p=>{(!p.defaultChecked||!p.disabled)&&(Array.isArray(m)?p.checked=!!m.find(F=>F===p.value):p.checked=m===p.value||!!m)}):u.refs.forEach(p=>p.checked=p.value===m):Be(u.ref)?u.ref.value="":(u.ref.value=m,u.ref.type||f.state.next({name:a,values:O(n)})))}(o.shouldDirty||o.shouldTouch)&&I(a,m,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&oe(a)},U=(a,l,o)=>{for(const h in l){if(!l.hasOwnProperty(h))return;const m=l[h],u=a+"."+h,p=g(i,u);(x.array.has(a)||M(m)||p&&!p._f)&&!ne(m)?U(u,m,o):C(u,m,o)}},q=(a,l,o={})=>{const h=g(i,a),m=x.array.has(a),u=O(l);k(n,a,u),m?(f.array.next({name:a,values:O(n)}),(v.isDirty||v.dirtyFields||y.isDirty||y.dirtyFields)&&o.shouldDirty&&f.state.next({name:a,dirtyFields:de(c,n),isDirty:J(a,u)})):h&&!h._f&&!$(u)?U(a,u,o):C(a,u,o),ms(a,x)&&f.state.next({...s,name:a}),f.state.next({name:d.mount?a:void 0,values:O(n)})},Q=async a=>{d.mount=!0;const l=a.target;let o=l.name,h=!0;const m=g(i,o),u=A=>{h=Number.isNaN(A)||ne(A)&&isNaN(A.getTime())||ae(A,g(n,o,A))},p=us(r.mode),F=us(r.reValidateMode);if(m){let A,X;const ve=l.type?ds(m._f):mt(a),re=a.type===is.BLUR||a.type===is.FOCUS_OUT,Ls=!St(m._f)&&!r.resolver&&!g(s.errors,o)&&!m._f.deps||Ct(re,g(s.touchedFields,o),s.isSubmitted,F,p),ke=ms(o,x,re);k(n,o,ve),re?(!l||!l.readOnly)&&(m._f.onBlur&&m._f.onBlur(a),S&&S(0)):m._f.onChange&&m._f.onChange(a);const Ee=I(o,ve,re),Rs=!B(Ee)||ke;if(!re&&f.state.next({name:o,type:a.type,values:O(n)}),Ls)return(v.isValid||y.isValid)&&(r.mode==="onBlur"?re&&_():re||_()),Rs&&f.state.next({name:o,...ke?{}:Ee});if(!re&&ke&&f.state.next({...s}),r.resolver){const{errors:es}=await te([o]);if(u(ve),h){const Ts=xs(s.errors,i,o),ss=xs(es,i,Ts.name||o);A=ss.error,o=ss.name,X=B(es)}}else z([o],!0),A=(await gs(m,x.disabled,n,D,r.shouldUseNativeValidation))[o],z([o]),u(ve),h&&(A?X=!1:(v.isValid||y.isValid)&&(X=await K(i,!0)));h&&(m._f.deps&&(!Array.isArray(m._f.deps)||m._f.deps.length>0)&&oe(m._f.deps),pe(o,X,A,Ee))}},fe=(a,l)=>{if(g(s.errors,l)&&a.focus)return a.focus(),1},oe=async(a,l={})=>{let o,h;const m=xe(a);if(r.resolver){const u=await _e(T(a)?a:m);o=B(u),h=a?!m.some(p=>g(u,p)):o}else a?(h=(await Promise.all(m.map(async u=>{const p=g(i,u);return await K(p&&p._f?{[u]:p}:p)}))).every(Boolean),!(!h&&!s.isValid)&&_()):h=o=await K(i);return f.state.next({...!H(a)||(v.isValid||y.isValid)&&o!==s.isValid?{}:{name:a},...r.resolver||!a?{isValid:o}:{},errors:s.errors}),l.shouldFocus&&!h&&he(i,fe,a?m:x.mount),h},ye=(a,l)=>{let o={...d.mount?n:c};return l&&(o=bs(l.dirtyFields?s.dirtyFields:s.touchedFields,o)),T(a)?o:H(a)?g(o,a):a.map(h=>g(o,h))},He=(a,l)=>({invalid:!!g((l||s).errors,a),isDirty:!!g((l||s).dirtyFields,a),error:g((l||s).errors,a),isValidating:!!g(s.validatingFields,a),isTouched:!!g((l||s).touchedFields,a)}),As=a=>{a&&xe(a).forEach(l=>L(s.errors,l)),f.state.next({errors:a?s.errors:{}})},Xe=(a,l,o)=>{const h=(g(i,a,{_f:{}})._f||{}).ref,m=g(s.errors,a)||{},{ref:u,message:p,type:F,...A}=m;k(s.errors,a,{...A,...l,ref:h}),f.state.next({name:a,errors:s.errors,isValid:!1}),o&&o.shouldFocus&&h&&h.focus&&h.focus()},Ss=(a,l)=>Y(a)?f.state.subscribe({next:o=>"values"in o&&a(N(void 0,l),o)}):N(a,l,!0),Ke=a=>f.state.subscribe({next:l=>{Et(a.name,l.name,a.exact)&&kt(l,a.formState||v,Ps,a.reRenderRoot)&&a.callback({values:{...n},...s,...l,defaultValues:c})}}).unsubscribe,ks=a=>(d.mount=!0,y={...y,...a.formState},Ke({...a,formState:y})),Ve=(a,l={})=>{for(const o of a?xe(a):x.mount)x.mount.delete(o),x.array.delete(o),l.keepValue||(L(i,o),L(n,o)),!l.keepError&&L(s.errors,o),!l.keepDirty&&L(s.dirtyFields,o),!l.keepTouched&&L(s.touchedFields,o),!l.keepIsValidating&&L(s.validatingFields,o),!r.shouldUnregister&&!l.keepDefaultValue&&L(c,o);f.state.next({values:O(n)}),f.state.next({...s,...l.keepDirty?{isDirty:J()}:{}}),!l.keepIsValid&&_()},Ge=({disabled:a,name:l})=>{(Z(a)&&d.mount||a||x.disabled.has(l))&&(a?x.disabled.add(l):x.disabled.delete(l))},Ae=(a,l={})=>{let o=g(i,a);const h=Z(l.disabled)||Z(r.disabled);return k(i,a,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:a}},name:a,mount:!0,...l}}),x.mount.add(a),o?Ge({disabled:Z(l.disabled)?l.disabled:r.disabled,name:a}):w(a,!0,l.value),{...h?{disabled:l.disabled||r.disabled}:{},...r.progressive?{required:!!l.required,min:me(l.min),max:me(l.max),minLength:me(l.minLength),maxLength:me(l.maxLength),pattern:me(l.pattern)}:{},name:a,onChange:Q,onBlur:Q,ref:m=>{if(m){Ae(a,l),o=g(i,a);const u=T(m.value)&&m.querySelectorAll&&m.querySelectorAll("input,select,textarea")[0]||m,p=Nt(u),F=o._f.refs||[];if(p?F.find(A=>A===u):u===o._f.ref)return;k(i,a,{_f:{...o._f,...p?{refs:[...F.filter(Le),u,...Array.isArray(g(c,a))?[{}]:[]],ref:{type:u.type,name:a}}:{ref:u}}}),w(a,!1,void 0,u)}else o=g(i,a,{}),o._f&&(o._f.mount=!1),(r.shouldUnregister||l.shouldUnregister)&&!(ht(x.array,a)&&d.action)&&x.unMount.add(a)}}},Se=()=>r.shouldFocusError&&he(i,fe,x.mount),Es=a=>{Z(a)&&(f.state.next({disabled:a}),he(i,(l,o)=>{const h=g(i,o);h&&(l.disabled=h._f.disabled||a,Array.isArray(h._f.refs)&&h._f.refs.forEach(m=>{m.disabled=h._f.disabled||a}))},0,!1))},Ye=(a,l)=>async o=>{let h;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let m=O(n);if(f.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:p}=await te();s.errors=u,m=O(p)}else await K(i);if(x.disabled.size)for(const u of x.disabled)L(m,u);if(L(s.errors,"root"),B(s.errors)){f.state.next({errors:{}});try{await a(m,o)}catch(u){h=u}}else l&&await l({...s.errors},o),Se(),setTimeout(Se);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(s.errors)&&!h,submitCount:s.submitCount+1,errors:s.errors}),h)throw h},Cs=(a,l={})=>{g(i,a)&&(T(l.defaultValue)?q(a,O(g(c,a))):(q(a,l.defaultValue),k(c,a,O(l.defaultValue))),l.keepTouched||L(s.touchedFields,a),l.keepDirty||(L(s.dirtyFields,a),s.isDirty=l.defaultValue?J(a,O(g(c,a))):J()),l.keepError||(L(s.errors,a),v.isValid&&_()),f.state.next({...s}))},Je=(a,l={})=>{const o=a?O(a):c,h=O(o),m=B(a),u=m?c:h;if(l.keepDefaultValues||(c=o),!l.keepValues){if(l.keepDirtyValues){const p=new Set([...x.mount,...Object.keys(de(c,n))]);for(const F of Array.from(p))g(s.dirtyFields,F)?k(u,F,g(n,F)):q(F,g(u,F))}else{if(Ue&&T(a))for(const p of x.mount){const F=g(i,p);if(F&&F._f){const A=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(je(A)){const X=A.closest("form");if(X){X.reset();break}}}}if(l.keepFieldsRef)for(const p of x.mount)q(p,g(u,p));else i={}}n=r.shouldUnregister?l.keepDefaultValues?O(c):{}:O(u),f.array.next({values:{...u}}),f.state.next({values:{...u}})}x={mount:l.keepDirtyValues?x.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!v.isValid||!!l.keepIsValid||!!l.keepDirtyValues,d.watch=!!r.shouldUnregister,f.state.next({submitCount:l.keepSubmitCount?s.submitCount:0,isDirty:m?!1:l.keepDirty?s.isDirty:!!(l.keepDefaultValues&&!ae(a,c)),isSubmitted:l.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:m?{}:l.keepDirtyValues?l.keepDefaultValues&&n?de(c,n):s.dirtyFields:l.keepDefaultValues&&a?de(c,a):l.keepDirty?s.dirtyFields:{},touchedFields:l.keepTouched?s.touchedFields:{},errors:l.keepErrors?s.errors:{},isSubmitSuccessful:l.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},Qe=(a,l)=>Je(Y(a)?a(n):a,l),Ds=(a,l={})=>{const o=g(i,a),h=o&&o._f;if(h){const m=h.refs?h.refs[0]:h.ref;m.focus&&(m.focus(),l.shouldSelect&&Y(m.select)&&m.select())}},Ps=a=>{s={...s,...a}},Ze={control:{register:Ae,unregister:Ve,getFieldState:He,handleSubmit:Ye,setError:Xe,_subscribe:Ke,_runSchema:te,_focusError:Se,_getWatch:N,_getDirty:J,_setValid:_,_setFieldArray:se,_setDisabledField:Ge,_setErrors:b,_getFieldArray:V,_reset:Je,_resetDefaultValues:()=>Y(r.defaultValues)&&r.defaultValues().then(a=>{Qe(a,r.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:ie,_disableForm:Es,_subjects:f,_proxyFormState:v,get _fields(){return i},get _formValues(){return n},get _state(){return d},set _state(a){d=a},get _defaultValues(){return c},get _names(){return x},set _names(a){x=a},get _formState(){return s},get _options(){return r},set _options(a){r={...r,...a}}},subscribe:ks,trigger:oe,register:Ae,handleSubmit:Ye,watch:Ss,setValue:q,getValues:ye,reset:Qe,resetField:Cs,clearErrors:As,unregister:Ve,setError:Xe,setFocus:Ds,getFieldState:He};return{...Ze,formControl:Ze}}function We(e={}){const r=W.useRef(void 0),s=W.useRef(void 0),[i,c]=W.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!Y(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...x}=Rt(e);r.current={...x,formState:i}}const n=r.current.control;return n._options=e,vt(()=>{const d=n._subscribe({formState:n._proxyFormState,callback:()=>c({...n._formState}),reRenderRoot:!0});return c(x=>({...x,isReady:!0})),n._formState.isReady=!0,d},[n]),W.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),W.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),W.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),W.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),W.useEffect(()=>{if(n._proxyFormState.isDirty){const d=n._getDirty();d!==i.isDirty&&n._subjects.state.next({isDirty:d})}},[n,i.isDirty]),W.useEffect(()=>{e.values&&!ae(e.values,s.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),s.current=e.values,c(d=>({...d}))):n._resetDefaultValues()},[n,e.values]),W.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=yt(i,n),r.current}function Tt(){const{register:e,handleSubmit:r,formState:{errors:s,isSubmitSuccessful:i},reset:c}=We(),n=d=>{console.log("Contact form submitted",d),c()};return t.jsxs("main",{className:"space-y-10 pb-20",children:[t.jsx(we,{items:[{label:"Accueil",href:"/"},{label:"Contact"}]}),t.jsxs("section",{className:"container-app grid gap-12 lg:grid-cols-[1fr_1.2fr]",children:[t.jsxs("div",{className:"space-y-5",children:[t.jsx("h1",{className:"text-3xl font-semibold",children:"Contactez notre équipe"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Un conseiller Cefolum vous répond sous 24h pour vous aider à sélectionner la pièce parfaite ou concevoir un projet sur mesure."}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Adresse :"}),t.jsx("p",{className:"text-muted-foreground",children:"18 Rue des Arts, 75009 Paris"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Téléphone :"}),t.jsx("a",{href:"tel:+33102030405",className:"text-primary",children:"+33 1 02 03 04 05"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold",children:"Email :"}),t.jsx("a",{href:"mailto:atelier@cefolum.fr",className:"text-primary",children:"atelier@cefolum.fr"})]})]})]}),t.jsxs("form",{className:"surface space-y-4 p-6",onSubmit:r(n),noValidate:!0,children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"name",className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Nom complet"}),t.jsx("input",{id:"name",type:"text",className:`input ${s.name?"border-danger focus:ring-danger":""}`,placeholder:"Votre nom",...e("name",{required:"Le nom est obligatoire."})}),s.name&&t.jsx(Re,{children:s.name.message})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"email",className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Email"}),t.jsx("input",{id:"email",type:"email",className:`input ${s.email?"border-danger focus:ring-danger":""}`,placeholder:"vous@exemple.com",...e("email",{required:"L’email est obligatoire.",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Adresse email invalide."}})}),s.email&&t.jsx(Re,{children:s.email.message})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"message",className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Message"}),t.jsx("textarea",{id:"message",className:`textarea ${s.message?"border-danger focus:ring-danger":""}`,placeholder:"Expliquez votre projet, vos envies, vos contraintes...",rows:6,...e("message",{required:"Le message est obligatoire.",minLength:{value:20,message:"Ajoutez quelques détails supplémentaires."}})}),s.message&&t.jsx(Re,{children:s.message.message})]}),t.jsx("button",{type:"submit",className:"btn-primary",children:"Envoyer la demande"}),i&&t.jsx("p",{role:"status",className:"rounded-md bg-success/10 px-3 py-2 text-xs text-success",children:"Merci ! Nous revenons vers vous très vite."})]})]})]})}function Re({children:e}){return t.jsx("span",{className:"text-xs font-medium text-danger",role:"alert",children:e})}function Mt(){const{register:e,handleSubmit:r,formState:{errors:s}}=We(),i=c=>{console.log("Login form",c)};return t.jsxs("main",{className:"space-y-10 pb-20",children:[t.jsx(we,{items:[{label:"Accueil",href:"/"},{label:"Login"}]}),t.jsx("section",{className:"container-app max-w-lg",children:t.jsxs("div",{className:"surface space-y-6 p-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",children:"Bienvenue"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Accédez à votre espace pour suivre vos commandes et gérer vos préférences."})]}),t.jsxs("form",{className:"space-y-4",onSubmit:r(i),noValidate:!0,children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"login-email",className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Email"}),t.jsx("input",{id:"login-email",type:"email",className:`input ${s.email?"border-danger focus:ring-danger":""}`,placeholder:"vous@exemple.com",...e("email",{required:"Email requis."})}),s.email&&t.jsx("span",{className:"text-xs text-danger",children:s.email.message})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"login-password",className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Mot de passe"}),t.jsx("input",{id:"login-password",type:"password",className:`input ${s.password?"border-danger focus:ring-danger":""}`,placeholder:"••••••••",...e("password",{required:"Mot de passe requis."})}),s.password&&t.jsx("span",{className:"text-xs text-danger",children:s.password.message})]}),t.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Se connecter"})]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pas encore de compte ?"," ",t.jsx(ue,{to:"/register",className:"text-primary",children:"Créer un compte"})]})]})})]})}function It(){const{register:e,handleSubmit:r,watch:s,formState:{errors:i}}=We(),c=s("password"),n=d=>{console.log("Register form",d)};return t.jsxs("main",{className:"space-y-10 pb-20",children:[t.jsx(we,{items:[{label:"Accueil",href:"/"},{label:"Créer un compte"}]}),t.jsx("section",{className:"container-app max-w-xl",children:t.jsxs("div",{className:"surface space-y-6 p-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",children:"Créer votre espace"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Profitez d’avantages personnalisés et suivez vos projets déco en temps réel."})]}),t.jsxs("form",{className:"space-y-4",onSubmit:r(n),noValidate:!0,children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"register-name",className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Nom complet"}),t.jsx("input",{id:"register-name",type:"text",className:`input ${i.name?"border-danger focus:ring-danger":""}`,...e("name",{required:"Nom requis."})}),i.name&&t.jsx("span",{className:"text-xs text-danger",children:i.name.message})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"register-email",className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Email"}),t.jsx("input",{id:"register-email",type:"email",className:`input ${i.email?"border-danger focus:ring-danger":""}`,...e("email",{required:"Email requis."})}),i.email&&t.jsx("span",{className:"text-xs text-danger",children:i.email.message})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"register-password",className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Mot de passe"}),t.jsx("input",{id:"register-password",type:"password",className:`input ${i.password?"border-danger focus:ring-danger":""}`,...e("password",{required:"Mot de passe requis.",minLength:{value:8,message:"8 caractères minimum."}})}),i.password&&t.jsx("span",{className:"text-xs text-danger",children:i.password.message})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"register-confirm",className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Confirmation"}),t.jsx("input",{id:"register-confirm",type:"password",className:`input ${i.confirm?"border-danger focus:ring-danger":""}`,...e("confirm",{required:"Confirmation requise.",validate:d=>d===c||"Les mots de passe ne correspondent pas."})}),i.confirm&&t.jsx("span",{className:"text-xs text-danger",children:i.confirm.message})]})]}),t.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Créer le compte"})]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Déjà inscrit ?"," ",t.jsx(ue,{to:"/login",className:"text-primary",children:"Connectez-vous"})]})]})})]})}function Ot(){return t.jsxs("main",{className:"container-app flex min-h-[60vh] flex-col items-center justify-center gap-4 text-center",children:[t.jsx("h1",{className:"text-3xl font-semibold",children:"Page introuvable"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"La page que vous cherchez n'existe plus. Retournez a l'accueil et continuez votre exploration."}),t.jsx(ue,{to:"/",className:"btn-primary",children:"Retour a l'accueil"})]})}function Ut(){return t.jsxs("div",{className:"flex min-h-screen flex-col",children:[t.jsx(Ws,{}),t.jsx("div",{className:"flex-1",children:t.jsxs(Hs,{children:[t.jsx(le,{path:"/",element:t.jsx(rt,{})}),t.jsx(le,{path:"/produits",element:t.jsx(Xs,{})}),t.jsx(le,{path:"/produits/:slug",element:t.jsx(ft,{})}),t.jsx(le,{path:"/contact",element:t.jsx(Tt,{})}),t.jsx(le,{path:"/login",element:t.jsx(Mt,{})}),t.jsx(le,{path:"/register",element:t.jsx(It,{})}),t.jsx(le,{path:"*",element:t.jsx(Ot,{})})]})}),t.jsx(Ks,{})]})}const Vs="theme";function $t(){return typeof window>"u"?"light":localStorage.getItem(Vs)||"light"}function qt(e){if(typeof window>"u")return;const r=document.documentElement;r.classList.remove("theme-light","theme-dark");const s=e==="dark"?"theme-dark":"theme-light";r.classList.add(s),localStorage.setItem(Vs,e==="dark"?"dark":"light")}function Bt(){const e=$t();qt(e)}Bt();Gs.createRoot(document.getElementById("root")).render(t.jsx(Ys,{basename:"/Cefolum",children:t.jsx(Js,{children:t.jsx(Ut,{})})}));
